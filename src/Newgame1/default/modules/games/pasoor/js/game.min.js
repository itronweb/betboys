var userLang = navigator['language'] || navigator['userLanguage'],
    language, game_assets, user_data = new Object,
    game_data = new Object,
    socket_connection, bet_selector, active_screen = '',
    board_width_percent = 0.8695,
    mute_audios = !1,
    wait_for_pawn_move = !1,
    game_turn_time = 15,
    double_game = !1,
    can_send_double = !1;
if (void(0) === debug_level) {
    var debug_level = 0
};


function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

game_win = function(_0x5597x10) {
    if (clear_chat_panel(), user_data['uid'] == _0x5597x10['uid_1'] && (user_data['chips'] = _0x5597x10['chips_1']), user_data['uid'] == _0x5597x10['uid_2'] && (user_data['chips'] = _0x5597x10['chips_2']), $('.top_left_chips')['html'](full_chip_format(user_data['chips'])), 'game_screen' == active_screen) {
        if (0 == _0x5597x10['winner_uid']) {
            return $('.lang_53')['html'](language['data']['pasoor_draw']), $('.result_for_winner')['hide'](), $('.result_for_loser')['show'](), $('.game_result')['fadeIn'](), !1
        };
        if (user_data['uid'] == _0x5597x10['winner_uid']) {
            $('.result_for_loser')['hide'](), $('.result_for_winner')['show']();
            var _0x5597x11 = language['data']['pasoor_win_amount']['replace']('{amount}', full_chip_format(_0x5597x10['amount']));
            $('.game_result_title3')['html'](_0x5597x11)
        } else {
            $('.lang_53')['html'](language['data']['pasoor_loser']), $('.result_for_winner')['hide'](), $('.result_for_loser')['show']()
        };
        $('.game_result')['fadeIn']()
    }
}, game_chat = function(_0x5597x10) {
    add_to_chat_panel(_0x5597x10['name'], _0x5597x10['text'])
}, game_error = function(_0x5597x10) {
    'searching_screen' == active_screen && fadein_screen('lobby_screen');
    var _0x5597x11 = _0x5597x10['message'];
    null != language['data'][_0x5597x11] && message(language['data'][_0x5597x11])
}, game_broadcast = function(_0x5597x10) {
    if ('chat' == _0x5597x10['type']) {
        var _0x5597x11 = $('.chat_text_container')['html']();
        _0x5597x11 += '<font color=\'yellow\' style=\'font-size: 18px; font-weight: bold;\'>' + _0x5597x10['message'] + '</font><br />', $('.chat_text_container')['html'](_0x5597x11), 'none' == $('.chat_area')['css']('display') && $('#chat_button')['css']({
            color: '#ff0000',
            border: '2px solid #ff0000'
        }), setTimeout(function() {
            $('.chat_text_container')['prop']('scrollTop', $('.chat_text_container')['prop']('scrollHeight'))
        }, 100)
    } else {
        message(_0x5597x10['message'])
    }
}, data_from_socket = function(_0x5597x10) {
	
    var _0x5597x11 = null != _0x5597x10['command'] ? _0x5597x10['command'] : '';
    null != _0x5597x10['turn'] && null != game_data['me'] && _0x5597x10['turn'] == game_data['me'] ? (can_send_double = !0, $('#double_icon')['removeClass']('doublepassive')) : (can_send_double = !1, $('#double_icon')['addClass']('doublepassive')),
		'auth' == _0x5597x11 && game_auth(_0x5597x10),
		'not_found' == _0x5597x11 && game_not_found(_0x5597x10),
		'start_error' == _0x5597x11 && game_start_error(_0x5597x10),
		'game_started' == _0x5597x11 && game_game_started(_0x5597x10),
		'game_status' == _0x5597x11 && game_game_status(_0x5597x10),
		'turn_card' == _0x5597x11 && game_turn_card(_0x5597x10),
		'game_deal' == _0x5597x11 && game_game_deal(_0x5597x10),
		'played' == _0x5597x11 && game_played(_0x5597x10),
		'last_cards' == _0x5597x11 && game_last_cards(_0x5597x10),
		'win' == _0x5597x11 && game_win(_0x5597x10),
		'chat' == _0x5597x11 && game_chat(_0x5597x10),
		'error' == _0x5597x11 && game_error(_0x5597x10),
		'broadcast' == _0x5597x11 && game_broadcast(_0x5597x10),
		'friends' == _0x5597x11 && show_friends_screen(_0x5597x10),
		'invite' == _0x5597x11 && friend_invited(_0x5597x10),
		'games_list' == _0x5597x11 && games_list(_0x5597x10),
		'cancelled' == _0x5597x11 && cancelled_game(_0x5597x10),
		'double_accept' == _0x5597x11 && double_accept(_0x5597x10),
		'double_offer' == _0x5597x11 && double_offer(_0x5597x10)
	
}, double_accept = function(_0x5597x10) {
    var _0x5597x11 = _0x5597x10['amount'];
    1 == _0x5597x10['double_level'] && (_0x5597x11 *= 2), 2 == _0x5597x10['double_level'] && (_0x5597x11 *= 4), $('#game_amount_place')['html'](full_chip_format(_0x5597x11))
}, double_offer = function(_0x5597x10) {
    if ('WHITE' == game_data['me'] && '1' == _0x5597x10['offered']) {
        return $('#double_icon')['hide'](), !1
    };
    if ('BLACK' == game_data['me'] && '2' == _0x5597x10['offered']) {
        return $('#double_icon')['hide'](), !1
    };
    var _0x5597x11 = _0x5597x10['amount'];
    0 == _0x5597x10['double_level'] && (_0x5597x11 *= 2), 1 == _0x5597x10['double_level'] && (_0x5597x11 *= 4), swal({
        title: '',
        text: '<font style=\'font-size:20px;\'>' + language['data']['double_offer_accept']['replace']('{amount}', full_chip_format(_0x5597x11)) + '</font>',
        type: 'warning',
        showCancelButton: !0,
        confirmButtonColor: '#DD6B55',
        confirmButtonText: language['data']['accept'],
        cancelButtonText: language['data']['dont_accept'],
        closeOnConfirm: !0,
        html: !0,
        allowOutsideClick: !1,
        allowEscapeKey: !1,
        allowEnterKey: !1
    }, function(_0x5597x10) {
        _0x5597x10 ? socket_send({
            command: 'double_accept'
        }) : socket_send({
            command: 'drawn'
        })
    })
}, games_list = function(_0x5597x10) {
    _0x5597x10['games']['sort'](function(_0x5597x10, _0x5597x11) {
        return _0x5597x11['amount'] - _0x5597x10['amount']
    });
    var _0x5597x11 = '',
        _0x5597x12 = 0;
    for (i in _0x5597x10['games']) {
        var _0x5597x13 = language['data']['game_waiting'];
        1 == _0x5597x10['games'][i]['double'] && (_0x5597x13 = language['data']['game_double_waiting']), _0x5597x13 = (_0x5597x13 = _0x5597x13['replace']('{amount}', '<span class=\'games-waiting-amount\'>' + full_chip_format(_0x5597x10['games'][i]['amount']) + '</span>'))['replace']('{name}', '<span class=\'games-waiting-name\'>' + _0x5597x10['games'][i]['name'] + '</span>');
        var _0x5597x14 = _0x5597x10['games'][i]['double'] ? 'double' : 'normal';
        if (_0x5597x11 = _0x5597x11 + _0x5597x13 + (' <a href=\'javascript:;\' class=\'clickable joinButton\' data=\'' + _0x5597x10['games'][i]['amount'] + '\' data-double=\'' + _0x5597x14 + '\'>' + language['data']['join'] + '</a>') + '<br>', (_0x5597x12 += 1) >= 5) {
            break
        }
    };
    $('#waiting_players')['html'](_0x5597x11), $('.joinButton')['unbind']('click'), $('.joinButton')['click'](function() {
        var _0x5597x10 = $(this)['attr']('data'),
            _0x5597x11 = $(this)['attr']('data-double');
        _0x5597x11 = 'double' == _0x5597x11, change_screen('searching_screen'), socket_send({
            command: 'enter_game',
            amount: _0x5597x10,
            double: _0x5597x11,
			game_id: user_data['game_id'],
        })
    })
}, refresh_games_list = function() {
    $('#waiting_players')['html'](''), socket_send({
        command: 'games_list',
		uid: user_data['uid'],
		token: user_data['token'],
		game_id: user_data['game_id'],
    })
}, cancelled_game = function() {
    change_screen('lobby_screen')
}, game_auth = function(_0x5597x10) {
    user_data['uid'] = _0x5597x10['uid'], user_data['name'] = _0x5597x10['name'], user_data['photo'] = _0x5597x10['photo'], user_data['chips'] = _0x5597x10['chips'], user_data['currency'] = _0x5597x10['currency'], user_data['bets'] = _0x5597x10['bets'], user_data['level'] = _0x5597x10['level'], user_data['friends'] = _0x5597x10['friends'], '' != user_data['photo'] && (user_data['photo_image'] = new Image, user_data['photo_image']['onload'] = function() {
        $('#profile_photo')['attr']('src', user_data['photo'])
    }, user_data['photo_image']['onerror'] = function() {}, user_data['photo_image']['src'] = user_data['photo']);
    var _0x5597x11 = '(' + find_level_from_xp(user_data['level']) + ') ' + user_data['name'];
    $('.top_left_name')['html'](_0x5597x11), $('.top_left_chips')['html'](full_chip_format(user_data['chips'])), bet_selector['prepare'](), change_screen('lobby_screen')
}, game_not_found = function(_0x5597x10) {
    change_screen('lobby_screen'), message(language['data']['pasoor_not_found'])
}, game_start_error = function(_0x5597x10) {
    change_screen('lobby_screen'), message(language['data']['error'])
}, game_game_started = function(_0x5597x10) {
    clear_game_cards(), game_data['me'] = _0x5597x10['uid_1'] == user_data['uid'] ? 'WHITE' : 'BLACK';
    var _0x5597x11 = '',
        _0x5597x12 = '',
        _0x5597x13 = '',
        _0x5597x14 = '',
        _0x5597x15 = '',
        _0x5597x16 = '';
    if ('WHITE' == game_data['me'] ? ($('#opponent_name')['html']('(' + find_level_from_xp(_0x5597x10['level_2']) + ') ' + _0x5597x10['name_2']), $('#my_name')['html']('(' + find_level_from_xp(_0x5597x10['level_1']) + ') ' + _0x5597x10['name_1']), _0x5597x14 = _0x5597x10['photo_2'], _0x5597x11 = _0x5597x10['photo_1'], _0x5597x12 = _0x5597x10['uid_2'], _0x5597x13 = _0x5597x10['name_2'], _0x5597x15 = _0x5597x10['chips_2'], _0x5597x16 = _0x5597x10['level_2']) : ($('#opponent_name')['html']('(' + find_level_from_xp(_0x5597x10['level_1']) + ') ' + _0x5597x10['name_1']), $('#my_name')['html']('(' + find_level_from_xp(_0x5597x10['level_2']) + ') ' + _0x5597x10['name_2']), _0x5597x14 = _0x5597x10['photo_1'], _0x5597x11 = _0x5597x10['photo_2'], _0x5597x12 = _0x5597x10['uid_1'], _0x5597x13 = _0x5597x10['name_1'], _0x5597x15 = _0x5597x10['chips_1'], _0x5597x16 = _0x5597x10['level_1']), $('#opponent_photo')['unbind']('click'), $('#opponent_photo')['click'](function(_0x5597x10) {
            _0x5597x10['preventDefault'](), open_user_profile({
                uid: _0x5597x12,
                photo: _0x5597x14,
                shown: _0x5597x15,
                level: _0x5597x16,
                name: _0x5597x13
            })
        }), '' != _0x5597x11) {
        var _0x5597x17 = new Image;
        _0x5597x17['onload'] = function() {
            $('#my_photo')['attr']('src', _0x5597x11)
        }, _0x5597x17['onerror'] = function() {}, _0x5597x17['src'] = _0x5597x11
    };
    if (clear_chat_panel(), game_turn_change('null'), $('#opponent_photo')['attr']('src', GAME_FOLDER + 'assets/placeholder.png'), $('.game_result')['hide'](), $('.chat_area')['hide'](), $('.play_again_button')['hide'](), $('.message_alert')['hide'](), null != _0x5597x10['double'] && 1 == _0x5597x10['double'] && null != _0x5597x10['double_level']) {
        _0x5597x1b = _0x5597x10['amount'];
        1 == _0x5597x10['double_level'] && (_0x5597x1b *= 2), 2 == _0x5597x10['double_level'] && (_0x5597x1b *= 4), $('#game_amount_place')['html'](full_chip_format(_0x5597x1b))
    } else {
        $('#game_amount_place')['html'](full_chip_format(_0x5597x10['amount']))
    };
    if ($('#double_icon')['hide'](), null != _0x5597x10['double'] && 1 == _0x5597x10['double']) {
        var _0x5597x18 = !0;
        'WHITE' == game_data['me'] && null != _0x5597x10['double_uid_1'] && 1 == _0x5597x10['double_uid_1'] && (_0x5597x18 = !1), 'BLACK' == game_data['me'] && null != _0x5597x10['double_uid_2'] && 1 == _0x5597x10['double_uid_2'] && (_0x5597x18 = !1), _0x5597x18 && $('#double_icon')['show']()
    };
    if ('' != _0x5597x14) {
        var _0x5597x19 = new Image;
        _0x5597x19['onload'] = function() {
            $('#opponent_photo')['attr']('src', _0x5597x14)
        }, _0x5597x19['onerror'] = function() {}, _0x5597x19['src'] = _0x5597x14
    };
    if ($('#mine_score')['html'](language['data']['pasoor_score']['replace']('{amount}', '0')), $('#mine_club')['html'](language['data']['pasoor_club']['replace']('{amount}', '0')), $('#mine_soor')['html'](language['data']['pasoor_soor']['replace']('{amount}', '0')), $('#opponent_score')['html'](language['data']['pasoor_score']['replace']('{amount}', '0')), $('#opponent_club')['html'](language['data']['pasoor_club']['replace']('{amount}', '0')), $('#opponent_soor')['html'](language['data']['pasoor_soor']['replace']('{amount}', '0')), set_coloumns(), change_screen('game_screen'), null != _0x5597x10['double_waiting'] && 1 == _0x5597x10['double_waiting']) {
        var _0x5597x1a = !1;
        if ('WHITE' == game_data['me'] && 2 == _0x5597x10['double_offered'] && (_0x5597x1a = !0), 'BLACK' == game_data['me'] && 1 == _0x5597x10['double_offered'] && (_0x5597x1a = !0), _0x5597x1a) {
            var _0x5597x1b = _0x5597x10['amount'];
            0 == _0x5597x10['double_level'] && (_0x5597x1b *= 2), 1 == _0x5597x10['double_level'] && (_0x5597x1b *= 4), swal({
                title: '',
                text: '<font style=\'font-size:20px;\'>' + language['data']['double_offer_accept']['replace']('{amount}', full_chip_format(_0x5597x1b)) + '</font>',
                type: 'warning',
                showCancelButton: !0,
                confirmButtonColor: '#DD6B55',
                confirmButtonText: language['data']['accept'],
                cancelButtonText: language['data']['dont_accept'],
                closeOnConfirm: !0,
                html: !0,
                allowOutsideClick: !1,
                allowEscapeKey: !1,
                allowEnterKey: !1
            }, function(_0x5597x10) {
                _0x5597x10 ? socket_send({
                    command: 'double_accept'
                }) : socket_send({
                    command: 'drawn'
                })
            })
        }
    }
}, game_game_status = function(_0x5597x10) {
	
    if (game_game_started(_0x5597x10), 0 == _0x5597x10['cards_left'] && $('.dealing-cards')['hide'](), null != _0x5597x10['cards']) {
        for (i in _0x5597x10['cards']) {
            _0x5597x12 = 1 + parseInt(i);
            card_move(_0x5597x10['cards'][i], _0x5597x10['cards'][i], 50, _0x5597x12)
        };
        for (i = 0; i < _0x5597x10['op_cards']; i++) {
            var _0x5597x11 = 100 + parseInt(i),
                _0x5597x12 = 5 + parseInt(i);
            card_move(_0x5597x11, 52, 50, _0x5597x12)
        }
    };
    if (_0x5597x10['floor_cards']) {
        for (i in _0x5597x10['floor_cards']) {
            _0x5597x12 = 10 + parseInt(i);
            card_move(_0x5597x10['floor_cards'][i], _0x5597x10['floor_cards'][i], 50, _0x5597x12)
        }
    };
    '4' == _0x5597x10['status'] ? game_turn_change(_0x5597x10['turn']) : game_turn_change('null'), set_game_scores(_0x5597x10), parse_posibilities(_0x5597x10), set_coloumns()
}, 
	game_turn_card = function(_0x5597x10) {
    game_data['starting'] = !0, play_audio('card'), 'WHITE' == game_data['me'] && (card_move(250, _0x5597x10['white_card'], 50, 401), card_move(251, _0x5597x10['black_card'], 50, 501)), 'BLACK' == game_data['me'] && (card_move(251, _0x5597x10['black_card'], 50, 401), card_move(250, _0x5597x10['white_card'], 50, 501));
    var _0x5597x11 = 'x';
    if ('WHITE' == _0x5597x10['turn'] && (_0x5597x11 = 250), 'BLACK' == _0x5597x10['turn'] && (_0x5597x11 = 251), 'x' == _0x5597x11) {
        return !1
    };
    var _0x5597x12 = '#card-number-' + _0x5597x11;
    setTimeout(function() {
        $(_0x5597x12)['addClass']('card_yellow_back'), setTimeout(function() {
            $(_0x5597x12)['removeClass']('card_yellow_back'), setTimeout(function() {
                $(_0x5597x12)['addClass']('card_yellow_back'), setTimeout(function() {
                    $(_0x5597x12)['removeClass']('card_yellow_back'), setTimeout(function() {
                        $(_0x5597x12)['addClass']('card_yellow_back'), setTimeout(function() {
                            $(_0x5597x12)['removeClass']('card_yellow_back'), $('#card-number-250')['remove'](), $('#card-number-251')['remove']()
                        }, 500)
                    }, 500)
                }, 500)
            }, 500)
        }, 500)
    }, 1e3)
}, 
	game_game_deal = function(_0x5597x10) {
    set_coloumns(), null != game_data['starting'] && 1 == game_data['starting'] && ($('#card-number-250')['remove'](), $('#card-number-251')['remove'](), game_data['starting'] = !1), game_data['me'] == _0x5597x10['turn'] ? (card_move(_0x5597x10['cards'][0], _0x5597x10['cards'][0], 50, 1), card_move(_0x5597x10['cards'][1], _0x5597x10['cards'][1], 50, 2), card_move(_0x5597x10['cards'][2], _0x5597x10['cards'][2], 50, 3), card_move(_0x5597x10['cards'][3], _0x5597x10['cards'][3], 50, 4), play_audio('card'), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][0])['css']({
        "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
    }), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][1])['css']({
        "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
    }), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][2])['css']({
        "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
    }), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][3])['css']({
        "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
    }), setTimeout(function() {
        card_move(100, 52, 50, 5), card_move(101, 52, 50, 6), card_move(102, 52, 50, 7), card_move(103, 52, 50, 8), play_audio('card'), game_data['zindex'] += 1, $('#card-number-100')['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), game_data['zindex'] += 1, $('#card-number-101')['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), game_data['zindex'] += 1, $('#card-number-102')['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), game_data['zindex'] += 1, $('#card-number-103')['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), null != _0x5597x10['floor'] && _0x5597x10['floor']['length'] > 0 ? setTimeout(function() {
            card_move(_0x5597x10['floor'][0], _0x5597x10['floor'][0], 50, 10), card_move(_0x5597x10['floor'][1], _0x5597x10['floor'][1], 50, 11), card_move(_0x5597x10['floor'][2], _0x5597x10['floor'][2], 50, 12), card_move(_0x5597x10['floor'][3], _0x5597x10['floor'][3], 50, 13), game_turn_change(_0x5597x10['turn']), parse_posibilities(_0x5597x10), play_audio('card')
        }, 1500) : (game_turn_change(_0x5597x10['turn']), parse_posibilities(_0x5597x10)), 0 == _0x5597x10['cards_left'] && $('.dealing-cards')['hide']()
    }, 1500)) : (card_move(100, 52, 50, 5), card_move(101, 52, 50, 6), card_move(102, 52, 50, 7), card_move(103, 52, 50, 8), play_audio('card'), setTimeout(function() {
        card_move(_0x5597x10['cards'][0], _0x5597x10['cards'][0], 50, 1), card_move(_0x5597x10['cards'][1], _0x5597x10['cards'][1], 50, 2), card_move(_0x5597x10['cards'][2], _0x5597x10['cards'][2], 50, 3), card_move(_0x5597x10['cards'][3], _0x5597x10['cards'][3], 50, 4), play_audio('card'), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][0])['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][1])['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][2])['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), game_data['zindex'] += 1, $('#card-number-' + _0x5597x10['cards'][3])['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), null != _0x5597x10['floor'] && _0x5597x10['floor']['length'] > 0 ? setTimeout(function() {
            card_move(_0x5597x10['floor'][0], _0x5597x10['floor'][0], 50, 10), card_move(_0x5597x10['floor'][1], _0x5597x10['floor'][1], 50, 11), card_move(_0x5597x10['floor'][2], _0x5597x10['floor'][2], 50, 12), card_move(_0x5597x10['floor'][3], _0x5597x10['floor'][3], 50, 13), game_turn_change(_0x5597x10['turn']), parse_posibilities(_0x5597x10), play_audio('card')
        }, 1500) : (game_turn_change(_0x5597x10['turn']), parse_posibilities(_0x5597x10)), 0 == _0x5597x10['cards_left'] && $('.dealing-cards')['hide']()
    }, 1500))
}, game_played_floor = function(_0x5597x10) {
    if (0 == game_data['floor_cards']['length']) {
        var _0x5597x11 = game_data['player'] == game_data['me'] ? 400 : 500;
        for (ix in game_data['moved_cards']) {
            _0x5597x14 = game_data['moved_cards'][ix];
            card_move(_0x5597x14, null, null, _0x5597x11, null, function() {
                $('#card-number-' + _0x5597x14)['remove']()
            }), $('#card-number-' + _0x5597x14)['fadeOut'](1e3)
        };
        return play_audio('get'), _0x5597x10(), !1
    };
    var _0x5597x12 = game_data['floor_cards']['pop'](),
        _0x5597x13 = $('#card-number-' + _0x5597x12)['attr']('data-place');
    for (ix in game_data['moved_cards']) {
        var _0x5597x14 = game_data['moved_cards'][ix];
        0 == ix ? (card_move(_0x5597x14, null, null, _0x5597x13, null, function() {
            game_played_floor(_0x5597x10)
        }), play_audio('get')) : card_move(_0x5597x14, null, null, _0x5597x13)
    };
    game_data['moved_cards']['push'](_0x5597x12)
}, game_played = function(_0x5597x10) {
	
	// vorudi az play
	/*
	/	player : BLACK or WHITE
	/	card 	: shomare cardi ke click shode
	*/
	
    if (set_coloumns(), _0x5597x10['player'] != game_data['me'] && (1 == $('#card-number-103')['length'] ? card_open('103', _0x5597x10['card']) : 1 == $('#card-number-102')['length'] ? card_open('102', _0x5597x10['card']) : 1 == $('#card-number-101')['length'] ? card_open('101', _0x5597x10['card']) : 1 == $('#card-number-100')['length'] && card_open('100', _0x5597x10['card'])), game_data['zindex'] += 1, play_audio('card'), $('#card-number-' + _0x5597x10['card'])['css']({
            "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
        }), null != _0x5597x10['floor'] && _0x5597x10['floor']['length'] > 0) {
		
        game_data['player'] = _0x5597x10['player'], game_data['floor_cards'] = _0x5597x10['floor'], game_data['moved_cards'] = [];
        var _0x5597x11 = game_data['floor_cards']['pop'](),
            _0x5597x12 = $('#card-number-' + _0x5597x11)['attr']('data-place');
		
        return game_data['moved_cards']['push'](_0x5597x10['card']), game_data['moved_cards']['push'](_0x5597x11), card_move(_0x5597x10['card'], null, null, _0x5597x12, null, function() {
            game_played_floor(function() {
                null != _0x5597x10['turn'] ? game_turn_change(_0x5597x10['turn']) : game_turn_change('null'), set_game_scores(_0x5597x10)
					,
					parse_posibilities(_0x5597x10)
            })
        }), !1
    };
	
    var _0x5597x13 = [],
        _0x5597x14 = 0;
    for ($('.card_normal')['each'](function() {
            var _0x5597x10 = $(this)['attr']('data-place');
            void(0) != _0x5597x10 && parseInt(_0x5597x10) > 0 && _0x5597x13['push'](_0x5597x10)
        }), i = 10; i <= 24; i++) {
        var _0x5597x15 = !1;
        for (m in _0x5597x13) {
            if (_0x5597x13[m] == i) {
                _0x5597x15 = !0;
                break
            }
        };
        if (!_0x5597x15) {
            _0x5597x14 = i;
            break
        }
    };
	console.log('1111');
    _0x5597x14 > 0 && card_move(_0x5597x10['card'], null, null, _0x5597x14, null, function() {
        null != _0x5597x10['turn'] ? game_turn_change(_0x5597x10['turn']) : game_turn_change('null'), set_game_scores(_0x5597x10), parse_posibilities(_0x5597x10)
    })
}, game_last_cards = function(_0x5597x10) {
    if (null == _0x5597x10['floor']) {
        return !1
    };
    var _0x5597x11 = _0x5597x10['player'] == game_data['me'] ? 400 : 500;
    for (ix in _0x5597x10['floor']) {
        var _0x5597x12 = _0x5597x10['floor'][ix];
        card_move(_0x5597x12, null, null, _0x5597x11, null, function() {
            $('#card-number-' + _0x5597x12)['remove'](), game_turn_change('null'), set_game_scores(_0x5597x10)
        })
    }
}, set_game_scores = function(_0x5597x10) {
    if (null == _0x5597x10['score_1'] || null == _0x5597x10['score_2']) {
        return !1
    };
    if (null == _0x5597x10['club_1'] || null == _0x5597x10['club_2']) {
        return !1
    };
    if (null == _0x5597x10['soor_1'] || null == _0x5597x10['soor_2']) {
        return !1
    };
	
    var _0x5597x11 = 'WHITE' == game_data['me'] ? _0x5597x10['score_1'] : _0x5597x10['score_2'],
        _0x5597x12 = 'WHITE' == game_data['me'] ? _0x5597x10['club_1'] : _0x5597x10['club_2'],
        _0x5597x13 = 'WHITE' == game_data['me'] ? _0x5597x10['soor_1'] : _0x5597x10['soor_2'],
        _0x5597x14 = 'BLACK' == game_data['me'] ? _0x5597x10['score_1'] : _0x5597x10['score_2'],
        _0x5597x15 = 'BLACK' == game_data['me'] ? _0x5597x10['club_1'] : _0x5597x10['club_2'],
        _0x5597x16 = 'BLACK' == game_data['me'] ? _0x5597x10['soor_1'] : _0x5597x10['soor_2'];
    _0x5597x13 = 5 * parseInt(_0x5597x13), _0x5597x16 = 5 * parseInt(_0x5597x16), $('#mine_score')['html'](language['data']['pasoor_score']['replace']('{amount}', _0x5597x11)), $('#mine_club')['html'](language['data']['pasoor_club']['replace']('{amount}', _0x5597x12)), $('#mine_soor')['html'](language['data']['pasoor_soor']['replace']('{amount}', _0x5597x13)), $('#opponent_score')['html'](language['data']['pasoor_score']['replace']('{amount}', _0x5597x14)), $('#opponent_club')['html'](language['data']['pasoor_club']['replace']('{amount}', _0x5597x15)), $('#opponent_soor')['html'](language['data']['pasoor_soor']['replace']('{amount}', _0x5597x16))
}, card_move = function(_0x5597x10, _0x5597x11, _0x5597x12, _0x5597x13, _0x5597x14, _0x5597x15) {
    var _0x5597x16 = '#card-number-' + _0x5597x10;
    if (0 == $(_0x5597x16)['length']) {
        var _0x5597x17 = $('#card-place-' + _0x5597x12)['offset'](),
            _0x5597x18 = '<img id="card-number-' + _0x5597x10 + '" src="' + GAME_FOLDER + 'assets/cards/' + _0x5597x11 + '.png" class="card_normal" data-card="' + _0x5597x11 + '" style="position: absolute; left: ' + _0x5597x17['left'] + 'px; top: ' + _0x5597x17['top'] + 'px;">';
        $('#temp-card-container')['append'](_0x5597x18), $('#card-number-' + _0x5597x10)['height'](game_data['card_height']), $('#card-number-' + _0x5597x10)['width'](game_data['card_width'])
    };
    $(_0x5597x16)['attr']({
        "\x64\x61\x74\x61\x2D\x70\x6C\x61\x63\x65": _0x5597x13
    });
    var _0x5597x19 = $('#card-place-' + _0x5597x13)['offset']();
    if (null != _0x5597x14 && 0 == _0x5597x14) {
        return $(_0x5597x16)['css']({
            left: _0x5597x19['left'],
            top: _0x5597x19['top']
        }), !1
    };
    $(_0x5597x16)['animate']({
        left: _0x5597x19['left'],
        top: _0x5597x19['top']
    }, _0x5597x14, function() {
        null != _0x5597x15 && _0x5597x15()
    })
}, card_open = function(_0x5597x10, _0x5597x11) {
    game_data['zindex'] += 1;
    var _0x5597x12 = '#card-number-' + _0x5597x10;
    $(_0x5597x12)['css']({
        "\x7A\x2D\x69\x6E\x64\x65\x78": game_data['zindex']
    }), $(_0x5597x12)['attr']({
        src: GAME_FOLDER + 'assets/cards/' + _0x5597x11 + '.png'
    }), $(_0x5597x12)['attr']({
        id: 'card-number-' + _0x5597x11,
        "\x64\x61\x74\x61\x2D\x63\x61\x72\x64": _0x5597x11
    })
}, parse_posibilities = function(_0x5597x10) {
	console.log('parse_posibilities');
	console.log(_0x5597x10);
	
    if (game_data['selected_card'] = null, game_data['selected_cards'] = [], $('.card_normal')['unbind']('click'), $('.card_white_back')['removeClass']('card_white_back'), $('.card_green_back')['removeClass']('card_green_back'), null == _0x5597x10['posibilities'] || null == _0x5597x10['cards']) {
        return !1
    };
	
    game_data['posibilities'] = _0x5597x10['posibilities'], $('.card_normal')['click'](function() {
		
        $('.card_white_back')['removeClass']('card_white_back'), $('.card_green_back')['removeClass']('card_green_back');
        var _0x5597x10 = $(this)['attr']('data-card'),
            _0x5597x11 = !1;
		console.log(game_data);
        for (ix in game_data['selected_cards']) {
            if (game_data['selected_cards'][ix] == _0x5597x10) {
                _0x5597x11 = !0;
                break
            }
        };
		
        if (null != game_data['selected_card']) {
			console.log('rgfkjdfjhfbgjdfgbhj');
            var _0x5597x12 = 0,
                _0x5597x13 = [];
            for (i in game_data['posibilities']) {
                if ((_0x5597x1a = game_data['posibilities'][i])['card'] == game_data['selected_card']) {
                    var _0x5597x14 = !1;
                    for (ix in _0x5597x1a['floor']) {
                        if (_0x5597x1a['floor'][ix] == _0x5597x10) {
                            _0x5597x14 = !0;
                            break
                        }
                    };
                    if (!_0x5597x14) {
                        continue
                    };
                    var _0x5597x15 = !1;
                    for (ix in game_data['selected_cards']) {
                        var _0x5597x16 = !1;
                        for (ij in _0x5597x1a['floor']) {
                            if (_0x5597x1a['floor'][ij] == game_data['selected_cards'][ix]) {
                                _0x5597x16 = !0;
                                break
                            }
                        };
                        if (!_0x5597x16) {
                            _0x5597x15 = !0;
                            break
                        }
                    };
                    if (_0x5597x15) {
                        continue
                    };
                    var _0x5597x17 = !1;
                    for (ix in game_data['selected_cards']) {
                        if (game_data['selected_cards'][ix] == _0x5597x10) {
                            _0x5597x17 = !0;
                            break
                        }
                    };
                    _0x5597x17 || game_data['selected_cards']['push'](_0x5597x10), _0x5597x12 += 1, _0x5597x13['push'](_0x5597x1a['floor'])
                }
            };
			
            if (_0x5597x11 && (_0x5597x12 = 0), 1 == _0x5597x12) {
                $('.card_normal')['unbind']('click');
				console.log( 'play command ');
                _0x5597x1c = {
                    command: 'play',
                    card: game_data['selected_card'],
                    floor: _0x5597x13[0],
					test: 'test',
                };
				console.log(_0x5597x1c);
                return socket_send(_0x5597x1c), game_data['selected_card'] = null, game_data['selected_cards'] = [], !1
            };
            if (_0x5597x12 > 1) {
                for (ix in _0x5597x13) {
                    var _0x5597x19 = _0x5597x13[ix];
                    for (ij in _0x5597x19) {
                        $('#card-number-' + _0x5597x19[ij])['addClass']('card_white_back')
                    }
                };
                $('#card-number-' + game_data['selected_card'])['removeClass']('card_white_back'), $('#card-number-' + game_data['selected_card'])['addClass']('card_green_back');
                for (ij in game_data['selected_cards']) {
                    _0x5597x1d = game_data['selected_cards'][ij];
                    $('#card-number-' + _0x5597x1d)['removeClass']('card_white_back'), $('#card-number-' + _0x5597x1d)['addClass']('card_green_back')
                };
                return !1
            }
        };
        game_data['selected_card'] = null, game_data['selected_cards'] = [];
		
        for (i in game_data['posibilities']) {
            var _0x5597x1a = game_data['posibilities'][i];
			
            if (_0x5597x1a['card'] == _0x5597x10) {
                if (_0x5597x10 % 13 == 9) {
					
                    $('.card_normal')['unbind']('click');
                    _0x5597x1c = {
                        command: 'play',
                        card: _0x5597x10,
						game_id: user_data['game_id'],
                    };
                    return null != _0x5597x1a['floor'] && (_0x5597x1c['floor'] = _0x5597x1a['floor']), socket_send(_0x5597x1c), !1
                };
                if (null == _0x5597x1a['floor']) {
                    return $('.card_normal')['unbind']('click'), socket_send({
                        command: 'play',
                        card: _0x5597x10,
						game_id: user_data['game_id'],
                    }), !1
                };
                var _0x5597x1b = 0;
                for (ij in game_data['posibilities']) {
                    game_data['posibilities'][ij]['card'] == _0x5597x10 && (_0x5597x1b += 1)
                };
				
                if (1 == _0x5597x1b) {
                    var _0x5597x1c = {
                        command: 'play',
                        card: _0x5597x10,
						floor: _0x5597x1a['floor'],
						game_id: user_data['game_id'],
                    };
                    return null != _0x5597x1a['floor'] && (_0x5597x1c['floor'] = _0x5597x1a['floor']), socket_send(_0x5597x1c), !1
                };
				
                game_data['selected_card'] = _0x5597x10, game_data['selected_cards'] = [], $('#card-number-' + _0x5597x10)['addClass']('card_green_back');
                for (ij in _0x5597x1a['floor']) {
                    var _0x5597x1d = _0x5597x1a['floor'][ij];
                    $('#card-number-' + _0x5597x1d)['addClass']('card_white_back')
                }
            }
        }
    })
}, $(document)['ready'](function() {
    $(window)['resize'](function() {
        set_coloumns(), setTimeout(function() {
            set_coloumns()
        }, 500)
    }), set_coloumns(), start_game_timer(), $('.game_result')['click'](function() {
        $('.game_result')['hide'](), change_screen('lobby_screen')
    }), $('.chat_area_overlay')['click'](function() {
        $('.chat_area')['hide']()
    }), $('#chat_button')['click'](function() {
        open_chat_panel()
    }), $('#chat_message_send')['click'](function() {
        var _0x5597x10 = $('#chat_message_text')['val']();
        if ('' == _0x5597x10) {
            return !1
        };
        $('#chat_message_text')['val'](''), socket_send({
            command: 'chat',
            text: _0x5597x10
        })
    }), $('#exit_button')['click'](function() {
        swal({
            title: '',
            text: '<font style=\'font-size:20px;\'>' + language['data']['pasoor_exit_confirm'] + '</font>',
            type: 'warning',
            showCancelButton: !0,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: language['data']['pasoor_exit_yes'],
            cancelButtonText: language['data']['pasoor_exit_no'],
            closeOnConfirm: !0,
            html: !0,
            allowOutsideClick: !1,
            allowEscapeKey: !1,
            allowEnterKey: !1
        }, function() {
            change_screen('lobby_screen'), socket_send({
                command: 'drawn'
            })
        })
    })
}), clear_game_cards = function() {
    game_data['zindex'] = 1e4, $('#temp-card-container')['html'](''), $('.dealing-cards')['show']()
}, clear_chat_panel = function() {
    $('#chat_button')['css']({
        color: '#fff'
    }), $('.chat_area')['hide']();
    var _0x5597x10 = '';
    for (i = 0; i < 40; i++) {
        _0x5597x10 += '<br />'
    };
    $('.chat_text_container')['html'](_0x5597x10)
}, add_to_chat_panel = function(_0x5597x10, _0x5597x11) {
    var _0x5597x12 = $('.chat_text_container')['html']();
    _0x5597x12 += '<span>' + _0x5597x10 + ':</span> ' + _0x5597x11 + '<br />', $('.chat_text_container')['html'](_0x5597x12), 'none' == $('.chat_area')['css']('display') && $('#chat_button')['css']({
        color: '#ff0000',
        border: '2px solid #ff0000'
    }), setTimeout(function() {
        $('.chat_text_container')['prop']('scrollTop', $('.chat_text_container')['prop']('scrollHeight'))
    }, 100)
}, open_chat_panel = function() {
    var _0x5597x10 = $(window)['height']();
    0 == _0x5597x10 && (_0x5597x10 = $(document)['height']());
    var _0x5597x11 = 0.95 * (_0x5597x10 - 60);
    $('.chat_text_container')['height'](_0x5597x11), $('#chat_button')['css']({
        color: '#fff',
        border: '1px solid #235e64'
    }), $('.chat_area')['fadeIn'](), $('.chat_text_container')['prop']('scrollTop', $('.chat_text_container')['prop']('scrollHeight'))
}, set_coloumns = function() {
    var _0x5597x10 = 0.2 * $(document)['width']();
    $('#my_name')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#opponent_name')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#mine_score')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#mine_soor')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#mine_club')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#opponent_score')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#opponent_soor')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    }), $('#opponent_club')['css']({
        "\x6D\x61\x78\x2D\x77\x69\x64\x74\x68": _0x5597x10 + 'px',
        width: _0x5597x10 + 'px'
    });
    var _0x5597x11 = $(window)['height']();
    0 == _0x5597x11 && (_0x5597x11 = $(document)['height']());
    var _0x5597x12 = _0x5597x11 / 6,
        _0x5597x13 = 245 * _0x5597x12 / 360,
        _0x5597x14 = 0.86 * $(document)['width']() / 7;
    _0x5597x13 > _0x5597x14 && (_0x5597x12 = 360 * (_0x5597x13 = _0x5597x14) / 245), $('.card_normal, .card_place')['height'](_0x5597x12), $('.card_normal, .card_place')['width'](_0x5597x13), game_data['card_width'] = _0x5597x13, game_data['card_height'] = _0x5597x12, $('.card_normal')['each'](function() {
        var _0x5597x10 = $(this)['attr']('data-place');
		
        if (void(0) != _0x5597x10) {
            var _0x5597x11 = $('#card-place-' + _0x5597x10)['offset']();
            $(this)['css']({
                left: _0x5597x11['left'],
                top: _0x5597x11['top']
            })
        }
    })
}, show_message = function(_0x5597x10) {
    $('.message_alert')['html'](_0x5597x10), $('.message_alert')['fadeIn'](), setTimeout(function() {
        $('.message_alert')['fadeOut']()
    }, 1500)
}, change_screen = function(_0x5597x10) {
    active_screen = _0x5597x10, $('.screen')['hide'](), $('#' + _0x5597x10)['show'](), 'lobby_screen' == _0x5597x10 && refresh_games_list()
}, fadein_screen = function(_0x5597x10) {
    active_screen = _0x5597x10, $('.screen')['hide'](), $('#' + _0x5597x10)['fadeIn'](), 'lobby_screen' == _0x5597x10 && refresh_games_list()
}, start_game = function(_0x5597x10) {
    setTimeout(function() {
        change_screen('loading_screen'), language = (new lang)['load'](function() {
            language['set_game'](), (game_assets = new game_assets_class)['load'](function() {
                _0x5597x10()
            })
        })
    }, 1e3)
}, createCookie = function(_0x5597x10, _0x5597x11) {
    var _0x5597x12 = new Date;
    _0x5597x12['setTime'](_0x5597x12['getTime']() + 2592e6);
    var _0x5597x13 = '; expires=' + _0x5597x12['toGMTString']();
    document['cookie'] = _0x5597x10 + '=' + _0x5597x11 + _0x5597x13 + '; path=/'
}, readCookie = function(_0x5597x10) {
    for (var _0x5597x11 = _0x5597x10 + '=', _0x5597x12 = document['cookie']['split'](';'), _0x5597x13 = 0; _0x5597x13 < _0x5597x12['length']; _0x5597x13++) {
        for (var _0x5597x14 = _0x5597x12[_0x5597x13];
            ' ' == _0x5597x14['charAt'](0);) {
            _0x5597x14 = _0x5597x14['substring'](1, _0x5597x14['length'])
        };
        if (0 == _0x5597x14['indexOf'](_0x5597x11)) {
            return _0x5597x14['substring'](_0x5597x11['length'], _0x5597x14['length'])
        }
    };
    return null
}, eraseCookie = function(_0x5597x10) {
    createCookie(_0x5597x10, '', -1)
}, apiRequest = function(_0x5597x10, _0x5597x11, _0x5597x12) {
    var _0x5597x13 = readCookie('language');
    null != _0x5597x13 && null == _0x5597x11['language'] && (_0x5597x11['language'] = _0x5597x13), _0x5597x11['lang'] = userLang, _0x5597x11['device'] = DEVICE_TYPE, _0x5597x11['game'] = 'pasoor', $['post'](API_URL + _0x5597x10, _0x5597x11)['done'](function(_0x5597x10) {
        if (null != _0x5597x12) {
            var _0x5597x11 = 'object' == typeof _0x5597x10 ? _0x5597x10 : JSON['parse'](_0x5597x10),
                _0x5597x13 = null != _0x5597x11['result'] ? _0x5597x11['result'] : 'null';
            _0x5597x12(_0x5597x13, _0x5597x11)
        }
    })['fail'](function(_0x5597x10, _0x5597x11, _0x5597x12) {
        top['location']['reload']()
    })
}, message = function(_0x5597x10) {
    var _0x5597x11 = null != language && null != language['data'] && null != language['data']['okey'] ? language['data']['okey'] : 'OK';
    swal({
        title: '',
        text: '<font style=\'font-size:20px;\'>' + _0x5597x10 + '</font>',
        confirmButtonText: _0x5597x11,
        html: !0
    })
};
var lang = function() {
        this['load'] = function(_0x5597x10) {
            var _0x5597x11 = new Object;
            _0x5597x11['lang'] = userLang;
            var _0x5597x12 = readCookie('language');
            return null != _0x5597x12 && (_0x5597x11['language'] = _0x5597x12), apiRequest('user/Newgame/language', _0x5597x11, function(_0x5597x11, _0x5597x12) {
                null != _0x5597x12['data'] && (language['data'] = _0x5597x12['data']), null != _0x5597x10 && _0x5597x10()
            }), this
        }, this['set_game'] = function() {
            $('.lang_31')['html'](this['data']['main_disconnect']), $('.lang_32')['html'](this['data']['main_connect_again']), $('.lang_46')['html'](this['data']['landscape']), $('.lang_47')['html'](this['data']['pasoor_searching']), $('.lang_48')['html'](this['data']['please_wait']), $('.lang_49')['html'](this['data']['cancel']), $('.lang_50')['html'](this['data']['pasoor_exit']), $('.lang_51')['html'](this['data']['pasoor_chat']), $('.lang_53')['html'](this['data']['pasoor_loser']), $('.lang_54')['html'](this['data']['pasoor_winner']), $('.lang_55')['html'](this['data']['pasoor_close']), $('.lang_56')['html'](this['data']['chat_send']), $('.lang_70')['html'](this['data']['friends_list']), $('.lang_71')['html'](this['data']['double_option']), null != this['data']['javascript'] && eval(this['data']['javascript'])
        }
    },
    game_assets_class = function() {
        this['assets'] = new Object, this['list'] = [], this['list']['push']({
            type: 'image',
            url: 'assets/back.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/board.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/board_rear.jpg'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/button_blue.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/button_red.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/cancel.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/friends.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/home.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/landscape.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/lang.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/minus.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/placeholder.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/plus.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/settings.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/sound_0.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/sound_1.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/telegram.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/check.png'
        }), this['list']['push']({
            type: 'image',
            url: 'assets/double.png'
        });
        for (var _0x5597x10 = 0; _0x5597x10 <= 52; _0x5597x10++) {
            this['list']['push']({
                type: 'image',
                url: 'assets/cards/' + _0x5597x10 + '.png'
            })
        };
        this['clean_name'] = function(_0x5597x10) {
            return _0x5597x10['split']('/')['join']('')['split']('.')['join']('')
        }, this['total_assets'] = this['list']['length'], this['load'] = function(_0x5597x10) {

            var _0x5597x11 = 150 * (this['total_assets'] - this['list']['length']) / this['total_assets'];
            if ($('.loading_bar')['show'](), $('#loading_indicator')['width'](_0x5597x11), this['list']['length'] > 0) {
                var _0x5597x12 = this['list'][0]['url'],
                    _0x5597x13 = this['list'][0]['type'];
                if (this['list']['shift'](), 'image' == _0x5597x13) {
                    var _0x5597x14 = new Image;
                    _0x5597x14['onload'] = function() {
                        var _0x5597x11 = game_assets['clean_name'](_0x5597x12);
                        game_assets['assets'][_0x5597x11] = _0x5597x14, game_assets['load'](_0x5597x10)
                    }, _0x5597x14['onerror'] = function() {
                        game_assets['load'](_0x5597x10)
                    }, null != ADDITIONAL_FILES[_0x5597x12] ? _0x5597x14['src'] = ADDITIONAL_FILES[_0x5597x12] : _0x5597x14['src'] = GAME_FOLDER + _0x5597x12
                } else {
                    if ('sound' == _0x5597x13) {
                        var _0x5597x15 = new Audio;
                        _0x5597x15['onloadeddata'] = function() {
                            var _0x5597x11 = game_assets['clean_name'](_0x5597x12);
                            game_assets['assets'][_0x5597x11] = _0x5597x15, game_assets['load'](_0x5597x10)
                        }, _0x5597x15['onerror'] = function() {
                            game_assets['load'](_0x5597x10)
                        }, _0x5597x15['src'] = GAME_FOLDER + _0x5597x12
                    }
                };
                return !1
            };
            $('.loading_bar')['hide'](), _0x5597x10()
        }, this['get'] = function(_0x5597x10) {
            if (_0x5597x10['length'] < 7) {
                return null
            };
            if ('assets' != _0x5597x10['substr'](0, 6)) {
                return null
            };
            var _0x5597x11 = this['clean_name'](_0x5597x10);
            return null != this['assets'][_0x5597x11] ? this['assets'][_0x5597x11] : null
        }
    };
full_chip_format = function(_0x5597x10) {
    return (_0x5597x10 / 100)['formatMoney'](MONEY_FORMAT[0], MONEY_FORMAT[1], MONEY_FORMAT[2]) + ' ' + language['data']['currency']
}, short_chip_format = function(_0x5597x10) {
    return (_0x5597x10 / 100)['formatMoney'](0, MONEY_FORMAT[1], MONEY_FORMAT[2]) + ' ' + language['data']['currency']
}, chip_format_no_symbol = function(_0x5597x10) {
    return (_0x5597x10 / 100)['formatMoney'](MONEY_FORMAT[0], MONEY_FORMAT[1], MONEY_FORMAT[2])
}, Number['prototype']['formatMoney'] = function(_0x5597x10, _0x5597x11, _0x5597x12) {
    var _0x5597x13 = this,
        _0x5597x10 = isNaN(_0x5597x10 = Math['abs'](_0x5597x10)) ? 2 : _0x5597x10,
        _0x5597x11 = void(0) == _0x5597x11 ? '.' : _0x5597x11,
        _0x5597x12 = void(0) == _0x5597x12 ? ',' : _0x5597x12,
        _0x5597x14 = _0x5597x13 < 0 ? '-' : '',
        _0x5597x15 = parseInt(_0x5597x13 = Math['abs'](+_0x5597x13 || 0)['toFixed'](_0x5597x10)) + '',
        _0x5597x16 = (_0x5597x16 = _0x5597x15['length']) > 3 ? _0x5597x16 % 3 : 0;
    return _0x5597x14 + (_0x5597x16 ? _0x5597x15['substr'](0, _0x5597x16) + _0x5597x12 : '') + _0x5597x15['substr'](_0x5597x16)['replace'](/(\d{3})(?=\d)/g, '$1' + _0x5597x12) + (_0x5597x10 ? _0x5597x11 + Math['abs'](_0x5597x13 - _0x5597x15)['toFixed'](_0x5597x10)['slice'](2) : '')
};
var bet_selector_model = function() {
    this['prepare'] = function() {
        this['bets'] = null != user_data['bets'] ? user_data['bets'] : [], null == this['percent'] && (this['percent'] = Math['round'](this['bets']['length'] / 2)), this['setValue'](), this['setBar']()
    }, this['plus'] = function() {
        this['percent'] += 1, this['percent'] > this['bets']['length'] && (this['percent'] = this['bets']['length']), this['setValue'](), this['setBar']()
    }, this['minus'] = function() {
        this['percent'] -= 1, this['percent'] < 1 && (this['percent'] = 1), this['setValue'](), this['setBar']()
    }, this['drag'] = function(_0x5597x10, _0x5597x11) {
        this['percent'] = Math['round'](this['bets']['length'] * _0x5597x10 / 100), this['percent'] < 1 && (this['percent'] = 1), this['setValue'](), $('.bet_holder_bg_in')['css']({
            width: _0x5597x11
        })
    }, this['setValue'] = function() {
        var _0x5597x10 = short_chip_format(this['bets'][this['percent'] - 1]);
        $('#play_button')['html'](language['data']['pasoor_play']['replace']('{amount}', _0x5597x10))
    }, this['setBar'] = function() {
		console.log('test');
        var _0x5597x10 = 80 * (this['percent'] - 1) / (this['bets']['length'] - 1);
        _0x5597x10 = 'lobby_screen' != active_screen ? _0x5597x10 / 100 * (0.7 * ($(window)['width']() > $(window)['height']() ? $(window)['width']() : $(window)['height']()) - 100) : $('.bet_holder')['width']() * (_0x5597x10 / 100), $('.bet_indicator')['css']({
            left: _0x5597x10
        });
        var _0x5597x11 = 95 * (this['percent'] - 1) / (this['bets']['length'] - 1);
        $('.bet_holder_bg_in')['css']({
            width: _0x5597x11 + '%'
        })
    }, this['getValue'] = function() {
        return this['bets'][this['percent'] - 1]
    }
};
start_game_timer = function() {
    setInterval(function() {
        if (null == game_data['turn_counter'] || null == game_data['turn_who'] || 'game_screen' != active_screen) {
            return !1
        };
        game_data['turn_counter'] -= 1, game_data['turn_counter'] < 0 && (game_data['turn_counter'] = 0);
        var _0x5597x10 = 100 * game_data['turn_counter'] / (10 * game_turn_time),
            _0x5597x11 = game_data['turn_who'] + ' .turn_bar';
		
        $(_0x5597x11)['css']({
            width: _0x5597x10 + '%'
        })
    }, 100)
}, game_turn_change = function(_0x5597x10) {
	
    if ('null' == _0x5597x10) {
        return game_data['turn_counter'] = null, $('.turn_container')['hide'](), !1
    };
	
    $('.turn_container')['hide'](), $('.turn_container .turn_bar')['css']({
        width: '100%'
    }), game_data['turn_counter'] = 10 * game_turn_time, game_data['turn_who'] = _0x5597x10 == game_data['me'] ? '.my_turn' : '.opponent_turn', $(game_data['turn_who'])['fadeIn']();
	
}, play_audio = function(_0x5597x10) {
    if (1 == mute_audios) {
        return !1
    };
    var _0x5597x11 = document['getElementById']('sound_' + _0x5597x10);
    return _0x5597x11['currentTime'] = 0, _0x5597x11['play'](), _0x5597x11
}, socket_connect = function(_0x5597x10, _0x5597x11) {
    null != socket_connection && 1 == socket_connection['readyState'] && (socket_connection['close'](), socket_connection = null), (socket_connection = new WebSocket(_0x5597x10, "onopen"))['onopen'] = function(_0x5597x10) {
        null != _0x5597x11 && _0x5597x11(!0), _0x5597x11 = null
    }, socket_connection['onmessage'] = function(_0x5597x10) {
        var _0x5597x11 = JSON['parse'](_0x5597x10['data']);
        data_from_socket(_0x5597x11)
    }, socket_connection['onclose'] = function(_0x5597x10) {
        fadein_screen('disconnect_screen')
    }, socket_connection['onerror'] = function(_0x5597x10) {
        null != _0x5597x11 && _0x5597x11(!1), fadein_screen('disconnect_screen')
    }
}, socket_disconnect = function() {
    if (null == socket_connection || 1 != socket_connection['readyState']) {
        return !1
    };
    socket_connection['close']()
}, socket_send = function(_0x5597x10) {
    return null != socket_connection && 1 == socket_connection['readyState'] && (socket_connection['send'](JSON['stringify'](_0x5597x10)), !0)
}, connect_to_server = function(_0x5597x10) {
    socket_connect(_0x5597x10, function(_0x5597x10) {
        1 == _0x5597x10 ? socket_send({
            command: 'auth',
            uid: user_data['uid'],
            token: user_data['token'],
            game_id: user_data['game_id'],
        }) : fadein_screen('disconnect_screen')
    })
}, $(document)['ready'](function() {
    double_game && $('#double_game_image')['css']({
        visibility: 'visible'
    }), $('#double_button')['click'](function() {
        double_game ? (double_game = !1, $('#double_game_image')['css']({
            visibility: 'hidden'
        })) : (double_game = !0, $('#double_game_image')['css']({
            visibility: 'visible'
        }))
    }), $('#double_icon')['click'](function() {
        can_send_double && swal({
            title: '',
            text: '<font style=\'font-size:20px;\'>' + language['data']['double_offer_confirm'] + '</font>',
            type: 'warning',
            showCancelButton: !0,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: language['data']['pasoor_exit_yes'],
            cancelButtonText: language['data']['pasoor_exit_no'],
            closeOnConfirm: !0,
            html: !0,
            allowOutsideClick: !1,
            allowEscapeKey: !1,
            allowEnterKey: !1
        }, function() {
            socket_send({
                command: 'double_offer'
            })
        })
    }), start_game(function() {
		var code = getCookie('code');
		var game_id = getCookie('game');
		
        apiRequest('user/Newgame/auth', {'code': code, 'game_id': game_id}, function(_0x5597x21, _0x5597x22) {
            'ok' == _0x5597x21 ? (user_data['uid'] = _0x5597x22['data']['uid'],user_data['game_id'] = _0x5597x22['data']['game_id'], user_data['token'] = _0x5597x22['data']['token'], null != _0x5597x22['data']['javascript'] && eval(_0x5597x22['data']['javascript']), connect_to_server(_0x5597x22['data']['address'])) : fadein_screen('disconnect_screen')
        })
    }), $('.home_button')['click'](function() {
        top['location'] = HOME_URL
    }), $('.back_to_home')['click'](function() {
        fadein_screen('home_screen')
    }), $('.back_to_lobby')['click'](function() {
        fadein_screen('lobby_screen')
    }), $('.refresh_button')['click'](function() {
        top['location'] = MAIN_URL
    }), $('#play_button')['click'](function() {
        change_screen('searching_screen'), socket_send({
            command: 'enter_game',
            amount: bet_selector['getValue'](),
            double: double_game,
			game_id: user_data['game_id'],
			uid: user_data['uid'],
			token: user_data['token'],
        })
    }), $('#cancel_button')['click'](function() {
        socket_send({
            command: 'cancel_game'
        })
    }), $('#sound_icon')['click'](function() {
        mute_audios ? (mute_audios = !1, $('#sound_icon')['attr']({
            src: GAME_FOLDER + 'assets/sound_0.png'
        })) : (mute_audios = !0, $('#sound_icon')['attr']({
            src: GAME_FOLDER + 'assets/sound_1.png'
        }))
    }), $('.friends_button')['click'](function() {
        open_friends_screen()
    }), bet_selector = new bet_selector_model, $('.bet_selector_plus')['click'](function() {
        bet_selector['plus']()
    }), $('.bet_selector_minus')['click'](function() {
        bet_selector['minus']()
    }), $('.bet_indicator')['draggable']({
        axis: 'x',
        containment: '.bet_holder',
        scroll: !1,
        drag: function(_0x5597x10, _0x5597x11) {
            var _0x5597x12 = $('.bet_holder')['width']() - $('.bet_indicator')['width'](),
                _0x5597x13 = Math['round'](100 * _0x5597x11['position']['left'] / _0x5597x12);
            bet_selector['drag'](_0x5597x13, _0x5597x11['position']['left'] + 10)
        }
    }), $(window)['resize'](function() {
        'lobby_screen' == active_screen && fadein_screen('lobby_screen')
    }), document['getElementById']('canvas_holder')['addEventListener']('touchmove', function(_0x5597x10) {
        _0x5597x10['preventDefault']()
    }, !1), document['getElementById']('canvas_holder')['addEventListener']('click', function(_0x5597x10) {
        _0x5597x10['preventDefault']()
    }, !1), document['getElementById']('canvas_holder')['addEventListener']('touchstart', function(_0x5597x10) {
        _0x5597x10['preventDefault']()
    }, !1), document['getElementById']('canvas_holder')['addEventListener']('touchend', function(_0x5597x10) {
        _0x5597x10['preventDefault']()
    }, !1)
}), find_level_from_xp = function(_0x5597x10) {
    for (var _0x5597x11 = 1; _0x5597x11 <= 100; _0x5597x11++) {
        if (_0x5597x10 <= 5 * _0x5597x11 * _0x5597x11) {
            return _0x5597x11
        }
    };
    return 100
}, open_user_profile = function(_0x5597x10) {
    if (null == _0x5597x10['uid'] || _0x5597x10['uid'] == user_data['uid']) {
        return !1
    };
    var _0x5597x11 = '' != _0x5597x10['photo'] ? _0x5597x10['photo'] : GAME_FOLDER + 'assets/placeholder.png',
        _0x5597x12 = is_my_friend(_0x5597x10['uid']) ? language['data']['profile_remove_friend'] : language['data']['profile_add_friend'],
        _0x5597x13 = (language['data']['profile_chips']['replace']('{amount}', full_chip_format(_0x5597x10['shown'])), language['data']['profile_level']['replace']('{level}', find_level_from_xp(_0x5597x10['level']))),
        _0x5597x14 = is_my_friend(_0x5597x10['uid']) ? '#AF0505' : '#1DA52E';
    swal({
        title: _0x5597x10['name'],
        imageUrl: _0x5597x11,
        text: '<font style=\'font-size:20px;\'>' + _0x5597x13 + '</font>',
        confirmButtonColor: _0x5597x14,
        confirmButtonText: _0x5597x12,
        cancelButtonText: language['data']['profile_close'],
        showCancelButton: !0,
        closeOnConfirm: !0,
        closeOnCancel: !0,
        allowOutsideClick: !0,
        html: !0
    }, function(_0x5597x11) {
        _0x5597x11 && friendship_proccess(_0x5597x10['uid'])
    })
}, friendship_proccess = function(_0x5597x10) {
    if (is_my_friend(_0x5597x10)) {
        for (key in user_data['friends']) {
            if (user_data['friends'][key]['uid'] == _0x5597x10) {
                user_data['friends']['splice'](key, 1);
                break
            }
        };
        socket_send({
            command: 'friends',
            type: 'remove',
//            uid: _0x5597x10,
            uid: user_data['uid'],
            token: user_data['token'],
            game_id: user_data['game_id'],
        })
    } else {
        user_data['friends']['push']({
            uid: _0x5597x10,
            name: ''
        }), socket_send({
            command: 'friends',
            type: 'add',
//            uid: _0x5597x10,
            uid: user_data['uid'],
            token: user_data['token'],
            game_id: user_data['game_id'],
        })
    }
}, is_my_friend = function(_0x5597x10) {
    if (null == user_data['friends']) {
        return !1
    };
    for (key in user_data['friends']) {
        if (user_data['friends'][key]['uid'] == _0x5597x10) {
            return !0
        }
    };
    return !1
}, open_friends_screen = function() {
    change_screen('loading_screen'), socket_send({
        command: 'friends',
        type: 'list'
    })
}, show_friends_screen = function(_0x5597x10) {
    _0x5597x10['friends'] = _0x5597x10['friends']['sort'](function(_0x5597x10, _0x5597x11) {
        return _0x5597x11['code'] - _0x5597x10['code']
    });
    var _0x5597x11 = '<table class="support_table">';
    for (key in _0x5597x10['friends']) {
        var _0x5597x12 = '';
        '1' == _0x5597x10['friends'][key]['code'] && (_0x5597x12 = '<font color="#A91717">(' + language['data']['friends_offline'] + ')</font>'), '2' == _0x5597x10['friends'][key]['code'] && (_0x5597x12 = '<font color="#30DAE3">(' + language['data']['friends_online'] + ')</font>'), '3' == _0x5597x10['friends'][key]['code'] && (_0x5597x12 = '<font color="#3FFF28">(' + language['data']['friends_playing'] + ')</font>');
        var _0x5597x13 = '';
        '2' == _0x5597x10['friends'][key]['code'] && (_0x5597x13 = '<a href="javascript:;" class="clickable invite_button myButton" data="' + _0x5597x10['friends'][key]['uid'] + '">' + $('#play_button')['html']() + '</a>'), _0x5597x11 = _0x5597x11 + '<tr class="black_back">	<td valign="center" style="vertical-aligment: center !important;">		<div class="left margin_5">' + _0x5597x10['friends'][key]['name'] + ' &nbsp; ' + _0x5597x12 + '</div>		<div class="right margin_5">' + _0x5597x13 + '</div>		<div class="clear"></div>	</td></tr>'
    };
    _0x5597x11 += '</table>', 0 == _0x5597x10['friends']['length'] && (_0x5597x11 = '<table class="support_table">	<tr class="black_back">		<td><div class="margin_5">' + language['data']['has_no_friends'] + '</div></td>	</tr></table>'), $('#friends_list')['html'](_0x5597x11), change_screen('friends_screen'), $('.invite_button')['unbind']('click'), $('.invite_button')['click'](function(_0x5597x10) {
        _0x5597x10['preventDefault']();
        var _0x5597x11 = $(this)['attr']('data');
        change_screen('searching_screen'), socket_send({
            command: 'enter_game',
            invite: _0x5597x11,
            amount: bet_selector['getValue'](),
            double: double_game
        })
    })
}, friend_invited = function(_0x5597x10) {
    var _0x5597x11 = '' != _0x5597x10['photo'] ? _0x5597x10['photo'] : GAME_FOLDER + 'assets/placeholder.png',
        _0x5597x12 = language['data']['invite_text']['replace']('{amount}', full_chip_format(_0x5597x10['amount']));
    null != _0x5597x10['double'] && 1 == _0x5597x10['double'] && (_0x5597x12 = language['data']['double_invite_text']['replace']('{amount}', full_chip_format(_0x5597x10['amount']))), _0x5597x12 = _0x5597x12['replace']('{name}', _0x5597x10['name']), swal({
        title: '',
        imageUrl: _0x5597x11,
        text: '<font style=\'font-size:20px;\'>' + _0x5597x12 + '</font>',
        confirmButtonColor: '#1DA52E',
        confirmButtonText: language['data']['invite_accept'],
        cancelButtonText: language['data']['invite_decline'],
        cancelButtonColor: '#AF0505',
        showCancelButton: !0,
        closeOnConfirm: !0,
        closeOnCancel: !0,
        allowOutsideClick: !0,
        html: !0
    }, function(_0x5597x11) {
        _0x5597x11 && (change_screen('searching_screen'), socket_send({
            command: 'enter_game',
            invited: _0x5597x10['uid'],
            amount: _0x5597x10['amount'],
            double: _0x5597x10['double']
        }))
    })
}